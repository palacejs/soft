<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSP2 Tool - OBFX</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéÆ</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Notifications -->
    <div id="notificationContainer" class="notification-container"></div>

    <!-- Main Header -->
    <div class="main-header">
        <div class="header-left">
            <button id="languageBtn" class="language-btn" style="display: none;">
                <span class="icon">üåç</span>
                <span data-translate="language">Language</span>
            </button>
            <button id="zoomBtn" class="zoom-btn" style="display: none;">
                <span class="icon">üîç</span>
                <span data-translate="zoom">Zoom</span>
            </button>
        </div>
        <h1 data-translate="title">MSP2 Tool - OBFX</h1>
        <div class="header-right">
            <button id="autographBtn" class="autograph-btn" style="display: none;">
                <span class="icon">‚úçÔ∏è</span>
                <span data-translate="autograph">Autograph</span>
            </button>
            <button id="changePasswordBtn" class="change-password-btn" style="display: none;">
                <span class="icon">üîë</span>
                <span data-translate="changePassword">Change Password</span>
            </button>
            <button id="exitBtn" class="exit-btn" style="display: none;">
                <span class="icon">üö™</span>
                <span data-translate="exit">Exit</span>
            </button>
        </div>
    </div>

    <div class="content">
        <!-- Login Screen -->
        <div id="loginScreen" class="login-screen">
            <div class="login-container">
                <div class="login-header">
                    <h2 data-translate="welcomeTitle">Welcome to MSP2 Tool</h2>
                    <p data-translate="welcomeSubtitle">Choose your login method</p>
                </div>
                
                <!-- Login Method Selection -->
                <div class="login-methods">
                    <div class="method-buttons">
                        <button id="websocketMethodBtn" class="method-btn active">
                            <span class="icon">üîó</span>
                            <span data-translate="websocketLogin">WebSocket Login</span>
                        </button>
                        <button id="accountMethodBtn" class="method-btn">
                            <span class="icon">üë§</span>
                            <span data-translate="accountLogin">Account Login</span>
                        </button>
                    </div>
                </div>

                <!-- WebSocket Login Form -->
                <div id="websocketLoginForm" class="login-form active">
                    <div class="input-group">
                        <input 
                            type="password" 
                            id="websocketInput" 
                            data-translate-placeholder="websocketPlaceholder"
                            placeholder="Paste WebSocket message here..."
                            class="websocket-input"
                        >
                        <button id="websocketLoginBtn" class="btn btn-login">
                            <span class="login-icon">üîê</span>
                            <span data-translate="login">Login</span>
                        </button>
                    </div>
                </div>

                <!-- Account Login Form -->
                <div id="accountLoginForm" class="login-form">
                    <div class="input-group">
                        <input 
                            type="text" 
                            id="usernameInput" 
                            data-translate-placeholder="usernamePlaceholder"
                            placeholder="Username"
                            class="account-input"
                        >
                        <input 
                            type="password" 
                            id="passwordInput" 
                            data-translate-placeholder="passwordPlaceholder"
                            placeholder="Password"
                            class="account-input"
                        >
                        <button id="accountLoginBtn" class="btn btn-login">
                            <span class="login-icon">üë§</span>
                            <span data-translate="login">Login</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="loading-screen" style="display: none;">
            <div class="loading-animation">
                <div class="dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
            <div id="loadingText" class="loading-text" data-translate="querySent">Query sent...</div>
        </div>

        <!-- Success Screen -->
        <div id="successScreen" class="success-screen" style="display: none;">
            <div class="success-icon">
                <div class="success-checkmark">‚úì</div>
            </div>
            <div id="successText" class="success-text" data-translate="approvedLogin">Approved Logging in...</div>
        </div>

        <!-- Banned Screen -->
        <div id="bannedScreen" class="banned-screen" style="display: none;">
            <div class="banned-icon">
                <div class="warning-symbol">‚ö†Ô∏è</div>
            </div>
            <div class="banned-title" data-translate="banned">You're banned!</div>
            <div class="banned-subtitle" data-translate="bannedMessage">OBFX does not support logging into this account.</div>
            <button id="bannedBackBtn" class="btn btn-secondary" data-translate="backToLogin">Return to the Home Screen</button>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu" class="main-menu" style="display: none;">
            <!-- User Info Section -->
            <div class="user-info">
                <div class="avatar-container">
                    <img id="userAvatar" class="user-avatar" src="" alt="Avatar">
                    <div class="avatar-border"></div>
                </div>
                <div class="user-details">
                    <div class="username" id="username">Loading...</div>
                    <div class="balance-info">
                        <div class="balance-item">
                            <span class="currency-icon starcoin">‚≠ê</span>
                            <span id="starcoins" class="currency-amount">0</span>
                        </div>
                        <div class="balance-item">
                            <span class="currency-icon diamond">üíé</span>
                            <span id="diamonds" class="currency-amount">0</span>
                        </div>
                    </div>
                    <div class="level-info">
                        <div class="level-star">
                            <span id="userLevel">1</span>
                        </div>
                        <div class="xp-bar">
                            <div id="xpProgress" class="xp-fill"></div>
                            <span id="xpText" class="xp-text">0 / 100</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Menu Section -->
            <div class="menu-section">
                <h2 data-translate="menu">Menu</h2>
                
                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="changeMoodBtn" class="btn btn-secondary">
                        <span class="icon">üòä</span>
                        <span data-translate="changeMood">Change Mood</span>
                    </button>
                    <button id="changeGenderBtn" class="btn btn-secondary">
                        <span class="icon">‚öß</span>
                        <span data-translate="gender">Gender</span>
                    </button>
                    <button id="commentsBtn" class="btn btn-secondary">
                        <span class="icon">üí¨</span>
                        <span data-translate="comments">Comments</span>
                        <span id="commentsCount" class="comments-count">(0)</span>
                    </button>
                    <button id="scammerTestBtn" class="btn btn-secondary">
                        <span class="icon">üîç</span>
                        <span data-translate="scammerTest">Scammer Test</span>
                    </button>
                    <button id="friendsSettingsBtn" class="btn btn-secondary">
                        <span class="icon">üë•</span>
                        <span data-translate="friendsSettings">Friends Settings</span>
                    </button>
                    <button id="giftsBtn" class="btn btn-secondary">
                        <span class="icon">üéÅ</span>
                        <span data-translate="gifts">Gifts</span> (<span id="giftsCount">0</span>)
                    </button>
                </div>

                <!-- Daily Task Section -->
                <div class="menu-item daily-task-section">
                    <h3 data-translate="dailyTask">Daily Task</h3>
                    <div class="daily-task-buttons">
                        <button id="startDailyTaskBtn" class="btn btn-start">
                            <span class="icon">‚ñ∂Ô∏è</span>
                            <span data-translate="startEnhanced">Start Enhanced Daily Tasks</span>
                        </button>
                        
                        <button id="fastStartDailyTaskBtn" class="btn btn-fast">
                            <span class="icon">‚ö°</span>
                            <span data-translate="fastStart">Fast Start (30s)</span>
                        </button>
                    </div>
                    
                    <div id="progressContainer" class="progress-container" style="display: none;">
                        <div class="progress-bar">
                            <div id="progressBar" class="progress-fill"></div>
                        </div>
                        <div id="progressText" class="progress-text">0%</div>
                        <div id="progressStatus" class="progress-status"></div>
                    </div>
                </div>
            </div>

            <!-- Version -->
            <div class="panel-footer">
                <span>V 2.0.0</span>
            </div>
        </div>

        <!-- Friends Settings Screen -->
        <div id="friendsSettingsScreen" class="friends-settings-screen" style="display: none;">
            <div class="friends-header">
                <h2 data-translate="friendsSettings">Friends Settings</h2>
                <button id="closeFriendsBtn" class="close-btn">√ó</button>
            </div>
            
            <!-- Tab Navigation -->
            <div class="friends-tabs">
                <button id="friendsTab" class="friends-tab active" data-tab="friends">
                    <span data-translate="friends">Friends</span>
                    <span id="friendsTabCount" class="tab-count">(0)</span>
                </button>
                <button id="requestsTab" class="friends-tab" data-tab="requests">
                    <span data-translate="requestSenders">Request Senders</span>
                    <span id="requestsTabCount" class="tab-count">(0)</span>
                </button>
                <button id="blockedTab" class="friends-tab" data-tab="blocked">
                    <span data-translate="blocked">Blocked</span>
                    <span id="blockedTabCount" class="tab-count">(0)</span>
                </button>
            </div>

            <!-- Filters -->
            <div class="friends-filters">
                <div class="filter-group">
                    <div class="level-filter">
                        <input type="number" id="levelFilter" placeholder="Level" min="1" max="999">
                    </div>
                </div>
                <button id="deleteAllBtn" class="btn btn-danger delete-all-btn">
                    <span class="icon">üóëÔ∏è</span>
                    <span data-translate="deleteAll">Delete All</span>
                </button>
            </div>

            <!-- Content Area -->
            <div class="friends-content">
                <!-- Friends List -->
                <div id="friendsContent" class="friends-tab-content active">
                    <div id="friendsList" class="friends-list">
                        <div class="loading-friends" data-translate="loadingFriends">Loading friends...</div>
                    </div>
                </div>

                <!-- Requests List -->
                <div id="requestsContent" class="friends-tab-content">
                    <div id="requestsList" class="friends-list">
                        <div class="loading-friends" data-translate="loadingRequests">Loading requests...</div>
                    </div>
                </div>

                <!-- Blocked List -->
                <div id="blockedContent" class="friends-tab-content">
                    <div id="blockedList" class="friends-list">
                        <div class="loading-friends" data-translate="loadingBlocked">Loading blocked...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comments Screen -->
        <div id="commentsScreen" class="comments-screen" style="display: none;">
            <div class="comments-header">
                <h2 data-translate="comments">Comments</h2>
                <button id="closeCommentsBtn" class="close-btn">√ó</button>
            </div>
            
            <div class="comments-content">
                <div id="commentsList" class="comments-list">
                    <div class="no-comments" data-translate="noComments">No comments yet</div>
                </div>
            </div>
        </div>

        <!-- Change Mood Screen -->
        <div id="changeMoodScreen" class="change-mood-screen" style="display: none;">
            <div class="mood-header">
                <h2 data-translate="changeMood">Change Mood</h2>
                <button id="closeMoodBtn" class="close-btn">√ó</button>
            </div>
            
            <div class="mood-selector">
                <button id="prevMoodBtn" class="nav-btn prev-btn">‚Äπ</button>
                
                <div class="mood-display">
                    <div class="mood-image-container">
                        <img id="currentMoodImage" class="mood-image" src="" alt="Mood">
                        <div class="mood-overlay">
                            <span id="moodNumber" class="mood-number">#1</span>
                        </div>
                    </div>
                    <div id="moodName" class="mood-name">Default Mood</div>
                </div>
                
                <button id="nextMoodBtn" class="nav-btn next-btn">‚Ä∫</button>
            </div>
            
            <div class="mood-controls">
                <span id="moodCounter" class="mood-counter">1 / 29</span>
                <button id="applyMoodBtn" class="btn btn-apply" data-translate="applyMood">Apply Mood</button>
            </div>
        </div>

        <!-- Change Password Screen -->
        <div id="changePasswordScreen" class="change-password-screen" style="display: none;">
            <div class="password-header">
                <h2 data-translate="changePassword">Change Password</h2>
                <button id="closePasswordBtn" class="close-btn">√ó</button>
            </div>
            
            <div class="password-content">
                <div class="user-info-display">
                    <div class="avatar-container">
                        <img id="passwordUserAvatar" class="user-avatar" src="" alt="Avatar">
                        <div class="avatar-border"></div>
                    </div>
                    <div id="passwordUsername" class="username">Loading...</div>
                </div>

                <div class="password-inputs">
                    <div class="input-group-spaced">
                        <input 
                            type="password" 
                            id="currentPasswordInput" 
                            data-translate-placeholder="currentPassword"
                            placeholder="Current Password"
                            class="password-input"
                        >
                        <input 
                            type="password" 
                            id="newPasswordInput" 
                            data-translate-placeholder="newPassword"
                            placeholder="New Password"
                            class="password-input"
                        >
                        <input 
                            type="password" 
                            id="confirmPasswordInput" 
                            data-translate-placeholder="confirmPassword"
                            placeholder="Confirm New Password"
                            class="password-input"
                        >
                    </div>
                </div>

                <div class="password-buttons">
                    <button id="cancelPasswordBtn" class="btn btn-secondary" data-translate="cancel">Cancel</button>
                    <button id="submitPasswordBtn" class="btn btn-primary" data-translate="changePassword">Change Password</button>
                </div>
            </div>
        </div>

        <!-- Autograph Panel -->
        <div id="autographScreen" class="autograph-screen" style="display: none;">
            <div class="autograph-modal">
                <div class="autograph-header">
                    <h2 data-translate="autograph">Autograph</h2>
                    <button id="closeAutographBtn" class="close-btn">√ó</button>
                </div>
                
                <div class="autograph-content">
                    <div class="autograph-inputs">
                        <input 
                            type="text" 
                            id="autographUsernameInput" 
                            data-translate-placeholder="enterUsername" 
                            placeholder="Enter username" 
                            class="username-input"
                        >
                        
                        <select id="greetingTypeSelector" class="greeting-select">
                            <option value="Autograph">Autograph</option>
                            <option value="JollyGreeting">JollyGreeting</option>
                            <option value="StarGreeting">StarGreeting</option>
                            <option value="HalloweenGreeting">HalloweenGreeting</option>
                            <option value="LoveGreeting">LoveGreeting</option>
                            <option value="RainbowGreeting">RainbowGreeting</option>
                            <option value="PartyGreeting">PartyGreeting</option>
                            <option value="SuperStarGreeting">SuperStarGreeting</option>
                        </select>
                        
                        <button id="startAutogreetBtn" class="btn btn-primary">
                            <span class="icon">üîç</span>
                            <span data-translate="findStart">Find & Start</span>
                        </button>
                    </div>

                    <div class="autograph-status">
                        <div class="status-header">
                            <span data-translate="status">Status</span>
                            <button id="stopAutogreetBtn" class="btn btn-secondary btn-small" data-translate="stop">Stop</button>
                        </div>
                        <div id="autographLog" class="status-log"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gifts Screen -->
        <div id="giftsScreen" class="gifts-screen" style="display: none;">
            <div class="gifts-header">
                <h2 data-translate="gifts">Gifts</h2>
                <button id="closeGiftsBtn" class="close-btn">√ó</button>
            </div>
            <div class="gifts-controls">
                <button id="openAllGiftsBtn" class="btn btn-primary open-all-btn" data-translate="openAllGifts">Open All Gifts</button>
            </div>
            <div id="giftsList" class="gifts-list"></div>
        </div>

        <!-- Receipt Screen -->
        <div id="receiptScreen" class="receipt-screen" style="display: none;">
            <div class="receipt">
                <div class="receipt-header">
                    <h2>OBFX</h2>
                    <div class="receipt-line"></div>
                </div>
                <div class="receipt-content">
                    <div class="receipt-item">
                        <span id="receiptGreetingType">Autograph</span>
                        <span id="receiptCount">0</span>
                    </div>
                    <div class="receipt-line"></div>
                    <div class="receipt-total">
                        <span data-translate="totalFame">Total Fame:</span>
                        <span id="receiptTotal">0</span>
                    </div>
                </div>
                <button id="closeReceiptBtn" class="btn btn-primary receipt-close" data-translate="close">Close</button>
            </div>
        </div>
    </div>

    <!-- Region Selection Dialog -->
    <div id="regionDialog" class="modal-overlay" style="display: none;">
        <div class="region-dialog">
            <h3 data-translate="selectRegion">Select Region</h3>
            <p data-translate="selectRegionDesc">Please select your region before logging in:</p>
            <div class="region-buttons">
                <button id="regionUS" class="btn btn-primary region-choice-btn">
                    <span class="icon">üá∫üá∏</span>
                    <span data-translate="unitedStates">United States</span>
                </button>
                <button id="regionEU" class="btn btn-primary region-choice-btn">
                    <span class="icon">üá™üá∫</span>
                    <span data-translate="europe">Europe</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Language Selection Dialog -->
    <div id="languageDialog" class="modal-overlay" style="display: none;">
        <div class="language-dialog">
            <h3 data-translate="languageSelection">Language Selection</h3>
            <div class="current-language">
                <p><span data-translate="currentLanguage">Current Language:</span> <span id="currentLanguageName">English</span></p>
            </div>
            <div class="language-buttons-container">
                <div class="language-buttons">
                    <button id="englishBtn" class="btn btn-primary language-choice-btn active">
                        <span class="icon">üá∫üá∏</span>
                        <span>English</span>
                    </button>
                    <button id="turkishBtn" class="btn btn-primary language-choice-btn">
                        <span class="icon">üáπüá∑</span>
                        <span>T√ºrk√ße</span>
                    </button>
                    <button id="azerbaijaniBtn" class="btn btn-primary language-choice-btn">
                        <span class="icon">üá¶üáø</span>
                        <span>Az…ôrbaycan T√ºrkc…ôsi</span>
                    </button>
                </div>
            </div>
            <div class="language-dialog-footer">
                <button id="closeLanguageBtn" class="btn btn-secondary" data-translate="close">Close</button>
            </div>
        </div>
    </div>

    <!-- Zoom Dialog -->
    <div id="zoomDialog" class="modal-overlay" style="display: none;">
        <div class="zoom-dialog">
            <h3 data-translate="zoomLevel">Zoom Level</h3>
            <div class="zoom-controls">
                <button id="zoomOutBtn" class="zoom-btn-control">‚àí</button>
                <span id="zoomLevel">100%</span>
                <button id="zoomInBtn" class="zoom-btn-control">+</button>
            </div>
            <div class="zoom-presets">
                <button class="zoom-preset" data-zoom="0.8">80%</button>
                <button class="zoom-preset" data-zoom="1.0">100%</button>
                <button class="zoom-preset" data-zoom="1.2">120%</button>
                <button class="zoom-preset" data-zoom="1.5">150%</button>
            </div>
            <div class="zoom-dialog-footer">
                <button id="closeZoomBtn" class="btn btn-secondary" data-translate="close">Close</button>
            </div>
        </div>
    </div>

    <!-- Delete All Confirmation Dialog -->
    <div id="deleteAllDialog" class="modal-overlay" style="display: none;">
        <div class="delete-all-dialog">
            <div class="warning-icon">‚ö†Ô∏è</div>
            <h3 data-translate="dangerousAction">Dangerous Action!</h3>
            <p data-translate="deleteAllWarning">This action will remove ALL users from the selected category. This is risky and cannot be undone!</p>
            <div class="countdown-container">
                <div class="countdown-circle">
                    <span id="countdownNumber">5</span>
                </div>
                <p data-translate="waitCountdown">Wait for countdown to finish...</p>
            </div>
            <div class="dialog-buttons">
                <button id="cancelDeleteAllBtn" class="btn btn-secondary" data-translate="no">No</button>
                <button id="confirmDeleteAllBtn" class="btn btn-danger" data-translate="yes" disabled>Yes</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
