// ==UserScript==
// @name         (MSP2) Free Shop
// @description  Free Soft - Unlock shop items on MSP2
// @namespace    https://msp2s.pages.dev/
// @version      1.0
// @match        https://moviestarplanet2.com/
// @grant        GM_info
// @grant        GM_xmlhttpRequest
// @grant        GM_addElement
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        GM_deleteValue
// @grant        unsafeWindow
// @inject-into  page
// @run-at       document-start
// ==/UserScript==

((W) => {
  function* KzHUuM(
    l4tdcM,
    eTUTbM,
    iBTEfRb,
    YVBcqs,
    SDAHWx = {
      ["QI5V2te"]: {},
    },
  ) {
    while (l4tdcM + eTUTbM + iBTEfRb + YVBcqs !== -214) {
      with (SDAHWx["EZr3ZDO"] || SDAHWx) {
        switch (l4tdcM + eTUTbM + iBTEfRb + YVBcqs) {
          case -162:
          default:
            [SDAHWx["QI5V2te"]["n6j5AA"], SDAHWx["QI5V2te"]["wRwQRs"]] = [
              -243, -175,
            ];
            QI5V2te["qa1n3r"] = () => {
              function* Ot7LP9(
                Zaoeo0C,
                TBH4Fge,
                e1hVoJh = {
                  ["BA1l4x"]: {},
                },
              ) {
                while (Zaoeo0C + TBH4Fge !== 56) {
                  with (e1hVoJh["B6y4OY"] || e1hVoJh) {
                    switch (Zaoeo0C + TBH4Fge) {
                      case e1hVoJh["BA1l4x"]["FmPFDX"] + 370:
                        islPv7["style"]["padding"] = "8px 12px";
                        islPv7["style"]["borderRadius"] = "10px";
                        islPv7["style"]["fontSize"] = "10px";
                        islPv7["style"]["fontFamily"] = "sans-serif";
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (TBH4Fge += -171));
                        break;
                      case 250:
                        islPv7["style"]["right"] = "10px";
                        islPv7["style"]["zIndex"] = "9999";
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += -372),
                          (TBH4Fge += 369));
                        break;
                      case 52:
                      case 59:
                      case e1hVoJh["BA1l4x"]["FmPFDX"] + -95:
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["eAb2pE"]),
                          (TBH4Fge += 274));
                        break;
                        if (TBH4Fge > Zaoeo0C + 2) {
                          ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                            (Zaoeo0C += -104),
                            (TBH4Fge += 270));
                          break;
                        }
                      case 54:
                      case TBH4Fge != 240 && TBH4Fge - -7:
                        islPv7["style"]["color"] = "#f0f0f0";
                        islPv7["style"]["backdropFilter"] = "blur(1px)";
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += -72),
                          (TBH4Fge += -56));
                        break;
                      case 39:
                      case 225:
                      case -35:
                        islPv7["style"]["position"] = "fixed";
                        islPv7["style"]["top"] = "10px";
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += 166),
                          (TBH4Fge += 45));
                        break;
                      default:
                      case -183:
                        [e1hVoJh["BA1l4x"]["FmPFDX"]] = [-123];
                        BA1l4x["islPv7"] = document["createElement"]("div");
                        BA1l4x["islPv7"]["textContent"] =
                          "by: Palace Lite";
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += 331),
                          (TBH4Fge += -109));
                        break;
                      case -54:
                      case e1hVoJh["BA1l4x"]["FmPFDX"] + 118:
                      case 50:
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += 454),
                          (TBH4Fge += -410));
                        break;
                      case e1hVoJh["BA1l4x"]["FmPFDX"] + 160:
                        [e1hVoJh["BA1l4x"]["FmPFDX"]] = [77];
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += 131),
                          (TBH4Fge += -129));
                        break;
                        if (Zaoeo0C < 82) {
                          ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                            (Zaoeo0C += -147),
                            (TBH4Fge += 58));
                          break;
                        }
                      case TBH4Fge - 65:
                        islPv7["style"]["backgroundColor"] =
                          "rgba(30, 30, 30, 0.4)";
                        islPv7["style"]["boxShadow"] =
                          "0 4px 12px rgba(0, 0, 0, 0.3)";
                        islPv7["style"]["border"] =
                          "1px solid rgba(255, 255, 255, 0.2)";
                        islPv7["style"]["opacity"] = "0.95";
                        return (
                          (itaEuX6 = true),
                          document["addEventListener"](
                            "DOMContentLoaded",
                            () => {
                              document["body"]["appendChild"](islPv7);
                            },
                          )
                        );
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["dA1vHf_"]),
                          (Zaoeo0C += 104),
                          (TBH4Fge += 4));
                        break;
                      case Zaoeo0C - -137:
                        islPv7["style"]["padding"] = "8px 12px";
                        islPv7["style"]["borderRadius"] = "10px";
                        islPv7["style"]["fontSize"] = "14px";
                        islPv7["style"]["fontFamily"] = "sans-serif";
                        ((e1hVoJh["B6y4OY"] = e1hVoJh["BA1l4x"]),
                          (Zaoeo0C += 248),
                          (TBH4Fge += -68));
                        break;
                    }
                  }
                }
              }
              var itaEuX6;
              var oSV9aWI = Ot7LP9(-118, -65)["next"]()["value"];
              if (itaEuX6) {
                return oSV9aWI;
              }
            };
            (1, QI5V2te["qa1n3r"])();
            QI5V2te["mqg4Vbb"] = W["fetch"];
            ((SDAHWx["EZr3ZDO"] = SDAHWx["QI5V2te"]),
              (l4tdcM += -219),
              (eTUTbM += 240),
              (iBTEfRb += -5),
              (YVBcqs += 134));
            break;
          case YVBcqs - -159:
            SDAHWx["QI5V2te"]["gB4AaL4"] =
              W["XMLHttpRequest"]["prototype"]["open"];
            SDAHWx["QI5V2te"]["RQbaeCU"] = (u, o = {}) => {
              return new Promise((resolve, reject) => {
                GM_xmlhttpRequest({
                  ["method"]: o["method"] || "GET",
                  ["url"]: u["replace"]("?&", "?"),
                  ["headers"]: {
                    "Content-Type": "application/json",
                    ["Accept"]: "application/json",
                    ...o["headers"],
                  },
                  ["data"]: o["body"],
                  ["onload"]: (s) => {
                    if (s["status"] >= 200 && s["status"] < 300) {
                      try {
                        const jsonResponse = JSON["parse"](s["responseText"]);
                        resolve({
                          ["ok"]: true,
                          ["status"]: s["status"],
                          ["statusText"]: s["statusText"],
                          ["headers"]: new Headers(),
                          ["url"]: u,
                          ["json"]: () => {
                            return Promise["resolve"](jsonResponse);
                          },
                          ["text"]: () => {
                            return Promise["resolve"](s["responseText"]);
                          },
                          ["blob"]: () => {
                            return Promise["resolve"](
                              new Blob([s["responseText"]]),
                            );
                          },
                          ["arrayBuffer"]: () => {
                            function* uAt4_c(
                              wQNdby,
                              ECmATF,
                              gOfDMU = {
                                ["R5tNA0"]: {},
                              },
                            ) {
                              while (wQNdby + ECmATF !== -64) {
                                with (gOfDMU["M7XdjAV"] || gOfDMU) {
                                  switch (wQNdby + ECmATF) {
                                    case -117:
                                    case 245:
                                    case -5:
                                      ((gOfDMU["M7XdjAV"] = gOfDMU["QxNZJ10"]),
                                        (wQNdby += 55),
                                        (ECmATF += -114));
                                      break;
                                    case 108:
                                    default:
                                    case gOfDMU["R5tNA0"]["fqkNd86"] + 79:
                                      ((gOfDMU["M7XdjAV"] = gOfDMU["Nq8qvlj"]),
                                        (wQNdby += 137),
                                        (ECmATF += -114));
                                      break;
                                    case ECmATF != -154 &&
                                      ECmATF != -260 &&
                                      ECmATF - -196:
                                      return (
                                        (KSb4a2p = true),
                                        Promise["resolve"](JpE3a5)
                                      );
                                      ((gOfDMU["M7XdjAV"] = gOfDMU["h8R_dHe"]),
                                        (ECmATF += -226));
                                      break;
                                    case wQNdby != 196 && wQNdby - 154:
                                    case 100:
                                      [
                                        gOfDMU["R5tNA0"]["BwDQVL"],
                                        gOfDMU["R5tNA0"]["fqkNd86"],
                                        gOfDMU["R5tNA0"]["_zeGyAs"],
                                      ] = [-161, -55, -162];
                                      ((gOfDMU["M7XdjAV"] = gOfDMU["qbjxiTh"]),
                                        (wQNdby += 107),
                                        (ECmATF += 1));
                                      break;
                                      if (ECmATF > 93) {
                                        gOfDMU["M7XdjAV"] = gOfDMU["R5tNA0"];
                                        break;
                                      }
                                    case 232:
                                      [
                                        gOfDMU["R5tNA0"]["BwDQVL"],
                                        gOfDMU["R5tNA0"]["fqkNd86"],
                                        gOfDMU["R5tNA0"]["_zeGyAs"],
                                      ] = [154, -166, -53];
                                      R5tNA0["JpE3a5"] = new ArrayBuffer(
                                        s["responseText"]["length"],
                                      );
                                      R5tNA0["B0jvM69"] = new Uint8Array(
                                        R5tNA0["JpE3a5"],
                                      );
                                      for (
                                        let i = wQNdby + -385;
                                        i < s["responseText"]["length"];
                                        i++
                                      ) {
                                        R5tNA0["B0jvM69"][i] =
                                          s["responseText"]["charCodeAt"](i);
                                      }
                                      ((gOfDMU["M7XdjAV"] = gOfDMU["R5tNA0"]),
                                        (wQNdby += -189),
                                        (ECmATF += 119));
                                      break;
                                      if (wQNdby < 385) {
                                        break;
                                      }
                                    case 172:
                                    case wQNdby != 278 && wQNdby - 154:
                                    case 112:
                                      ((gOfDMU["M7XdjAV"] = gOfDMU["UsmPe8"]),
                                        (ECmATF += -106));
                                      break;
                                  }
                                }
                              }
                            }
                            var KSb4a2p;
                            var cYu6gV = uAt4_c(385, -153)["next"]()["value"];
                            if (KSb4a2p) {
                              return cYu6gV;
                            }
                          },
                        });
                      } catch {
                        reject(new Error("Invalid JSON response from " + u));
                      }
                    } else {
                      reject(
                        new Error(
                          "Request failed: " +
                            s["status"] +
                            " " +
                            s["statusText"],
                        ),
                      );
                    }
                  },
                  ["onerror"]: () => {
                    return reject(new Error("Network error"));
                  },
                  ["ontimeout"]: () => {
                    return reject(new Error("Request timed out"));
                  },
                });
              });
            };
            ((SDAHWx["EZr3ZDO"] = SDAHWx["QI5V2te"]),
              (l4tdcM += -132),
              (iBTEfRb += -109),
              (YVBcqs += 332));
            break;
          case 154:
          case -64:
            [SDAHWx["QI5V2te"]["n6j5AA"], SDAHWx["QI5V2te"]["wRwQRs"]] = [
              195, -91,
            ];
            ((SDAHWx["EZr3ZDO"] = SDAHWx["QI5V2te"]),
              (l4tdcM += -279),
              (eTUTbM += 63),
              (iBTEfRb += 510));
            break;
          case SDAHWx["QI5V2te"]["n6j5AA"] + 473:
            SDAHWx["QI5V2te"]["Ed5Rdz"] = (u) => {
              return new RegExp(
                "eu\\.mspapis\\.com\\/shopinventory\\/v1\\/shops\\/\\d+\\/listings",
                "",
              )["test"](u);
            };
            SDAHWx["QI5V2te"]["ZuC7MD"] = (u) => {
              return (
                u["includes"]("eu.mspapis.com/shoppurchase/v1/games/") &&
                u["includes"]("/items/purchase")
              );
            };
            W["fetch"] = (u, o = {}) => {
              function* zcKAoP(
                vwCUDw,
                o02Xb3O,
                R3cLHKG,
                TNAOzQ = {
                  ["_442lr"]: {},
                },
              ) {
                while (vwCUDw + o02Xb3O + R3cLHKG !== 217) {
                  with (TNAOzQ["yy2dCj"] || TNAOzQ) {
                    switch (vwCUDw + o02Xb3O + R3cLHKG) {
                      case R3cLHKG - -477:
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += -274),
                          (o02Xb3O += 8),
                          (R3cLHKG += 402));
                        break;
                      default:
                        return (
                          (P8eTEIM = true),
                          (1, RQbaeCU)(
                            "https://msp2.pages.dev/api/listings" +
                              new URL(j1HkXJK)["search"]["replace"](
                                new RegExp("^\\?\\&", ""),
                                "?",
                              ),
                            {
                              ["method"]: iL4UOh,
                              ["headers"]: Fo8Fmb,
                              ["body"]: s7Y25M,
                            },
                          )
                        );
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += -205),
                          (o02Xb3O += 312),
                          (R3cLHKG += 99));
                        break;
                        if (o02Xb3O > -(vwCUDw + -104)) {
                          ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                            (vwCUDw += -515),
                            (o02Xb3O += -1),
                            (R3cLHKG += 408));
                          break;
                        }
                      case o02Xb3O - 431:
                        [
                          TNAOzQ["_442lr"]["QQcKPVe"],
                          TNAOzQ["_442lr"]["rmtG5fE"],
                          TNAOzQ["_442lr"]["zZ4w6G"],
                        ] = [39, -15, -176];
                        _442lr["j1HkXJK"] =
                          typeof u === "string"
                            ? u
                            : u instanceof Request
                              ? u["url"]
                              : String(u);
                        _442lr["iL4UOh"] =
                          typeof u === "string"
                            ? o["method"] || "GET"
                            : u instanceof Request
                              ? u["method"]
                              : "GET";
                        _442lr["Fo8Fmb"] =
                          typeof u === "string"
                            ? o["headers"] || {}
                            : u instanceof Request
                              ? Object["fromEntries"](u["headers"]["entries"]())
                              : {};
                        _442lr["s7Y25M"] =
                          typeof u === "string"
                            ? o["body"]
                            : u instanceof Request
                              ? u["body"]
                              : null;
                        if ((1, Ed5Rdz)(_442lr["j1HkXJK"])) {
                          ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                            (vwCUDw += 371),
                            (o02Xb3O += -265),
                            (R3cLHKG += 48));
                          break;
                        } else {
                          ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                            (vwCUDw += 166),
                            (o02Xb3O += 47),
                            (R3cLHKG += 147));
                          break;
                        }
                      case TNAOzQ["_442lr"]["zZ4w6G"] + 86:
                        [
                          TNAOzQ["_442lr"]["QQcKPVe"],
                          TNAOzQ["_442lr"]["rmtG5fE"],
                          TNAOzQ["_442lr"]["zZ4w6G"],
                        ] = [-207, -30, -52];
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += 23),
                          (o02Xb3O += 446),
                          (R3cLHKG += -254));
                        break;
                      case -25:
                      case 2:
                      case TNAOzQ["_442lr"]["QQcKPVe"] + -245:
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += 304),
                          (o02Xb3O += 336),
                          (R3cLHKG += -309));
                        break;
                      case vwCUDw - -157:
                      case -21:
                        if ((1, ZuC7MD)(j1HkXJK)) {
                          ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                            (vwCUDw += 10),
                            (R3cLHKG += -123));
                          break;
                        } else {
                          ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                            (vwCUDw += 96),
                            (o02Xb3O += -369),
                            (R3cLHKG += 309));
                          break;
                        }
                      case TNAOzQ["_442lr"]["QQcKPVe"] + -27:
                        return (
                          (P8eTEIM = true),
                          (1, RQbaeCU)("https://msp2.pages.dev/api/purchase", {
                            ["method"]: iL4UOh,
                            ["headers"]: Fo8Fmb,
                            ["body"]: s7Y25M,
                          })
                        );
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += 86),
                          (o02Xb3O += -369),
                          (R3cLHKG += 432));
                        break;
                        if (!(vwCUDw > -(vwCUDw + 80))) {
                          ((TNAOzQ["yy2dCj"] = TNAOzQ["RKausMB"]),
                            (vwCUDw += 86),
                            (o02Xb3O += -313),
                            (R3cLHKG += 432));
                          break;
                        }
                      case 14:
                      case TNAOzQ["_442lr"]["QQcKPVe"] + 122:
                        return ((P8eTEIM = true), mqg4Vbb["call"](W, u, o));
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["px48rE"]),
                          (o02Xb3O += 56));
                        break;
                      case TNAOzQ["_442lr"]["rmtG5fE"] + -174:
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += 406),
                          (o02Xb3O += -56));
                        break;
                      case o02Xb3O - -410:
                      case -65:
                      case 214:
                        ((TNAOzQ["yy2dCj"] = TNAOzQ["_442lr"]),
                          (vwCUDw += -274),
                          (o02Xb3O += 446),
                          (R3cLHKG += -254));
                        break;
                    }
                  }
                }
              }
              var P8eTEIM;
              var ITJRn4w = zcKAoP(-198, 196, -233)["next"]()["value"];
              if (P8eTEIM) {
                return ITJRn4w;
              }
            };
            return (
              (k1B7Pq = true),
              (W["XMLHttpRequest"]["prototype"]["open"] = function (
                m,
                u,
                a = true,
                U,
                p,
              ) {
                if (typeof u === "string" && (1, Ed5Rdz)(u)) {
                  return gB4AaL4["call"](
                    this,
                    m,
                    "https://msp2.pages.dev/api/listings" +
                      new URL(u)["search"]["replace"](
                        new RegExp("^\\?\\&", ""),
                        "?",
                      ),
                    a,
                    U,
                    p,
                  );
                }
                if (typeof u === "string" && (1, ZuC7MD)(u)) {
                  return gB4AaL4["call"](
                    this,
                    m,
                    "https://msp2.pages.dev/api/purchase",
                    a,
                    U,
                    p,
                  );
                }
                return gB4AaL4["call"](this, m, u, a, U, p);
              })
            );
            ((SDAHWx["EZr3ZDO"] = SDAHWx["R55TLX"]),
              (l4tdcM += 279),
              (eTUTbM += -723));
            break;
          case -19:
          case 90:
          case 112:
        }
      }
    }
  }
  var k1B7Pq;
  var a3So8b = KzHUuM(216, 8, -81, -154)["next"]()["value"];
  if (k1B7Pq) {
    return a3So8b;
  }
})(typeof unsafeWindow !== "undefined" ? unsafeWindow : window);
